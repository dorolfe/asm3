/*!
  jQuery UI Touch Punch 0.2.3-asm
 
  Copyright 2011â€“2014, Dave Furfero
  Dual licensed under the MIT or GPL Version 2 licenses.
 
  Modified 13/12/2022 R Rawson-Tetley to fall back to pointer events 
  if touch events are not available. This was done because some customers have
  touchscreen Lenovo monitors with styluses that do not generate touch events,
  but they do generate pointer events. 
 
  Depends:
   jquery.ui.widget.js
   jquery.ui.mouse.js
 */(function($){$.support.touch='ontouchend'in document;$.support.pointer='onpointerdown'in document;if(!$.support.touch&&!$.support.pointer){return;}
var mouseProto=$.ui.mouse.prototype,_mouseInit=mouseProto._mouseInit,_mouseDestroy=mouseProto._mouseDestroy,touchHandled;function simulateMouseEvent(event,simulatedType){event.preventDefault();var touch;if($.support.touch){touch=event.originalEvent.changedTouches[0];}else if($.support.pointer){touch=event.originalEvent;}
var simulatedEvent=document.createEvent('MouseEvents');simulatedEvent.initMouseEvent(simulatedType,true,true,window,1,touch.screenX,touch.screenY,touch.clientX,touch.clientY,false,false,false,false,0,null);event.target.dispatchEvent(simulatedEvent);}
mouseProto._touchStart=function(event){var self=this;if(touchHandled){return;}
touchHandled=true;self._touchMoved=false;simulateMouseEvent(event,'mouseover');simulateMouseEvent(event,'mousemove');simulateMouseEvent(event,'mousedown');};mouseProto._touchMove=function(event){if(!touchHandled){return;}
this._touchMoved=true;simulateMouseEvent(event,'mousemove');};mouseProto._touchEnd=function(event){if(!touchHandled){return;}
simulateMouseEvent(event,'mouseup');simulateMouseEvent(event,'mouseout');if(!this._touchMoved){simulateMouseEvent(event,'click');}
touchHandled=false;};mouseProto._mouseInit=function(){var self=this;if($.support.touch){self.element.bind({touchstart:$.proxy(self,'_touchStart'),touchmove:$.proxy(self,'_touchMove'),touchend:$.proxy(self,'_touchEnd')});}
else if($.support.pointer){self.element.bind({pointerdown:$.proxy(self,'_touchStart'),pointermove:$.proxy(self,'_touchMove'),pointerup:$.proxy(self,'_touchEnd')});}
_mouseInit.call(self);};mouseProto._mouseDestroy=function(){var self=this;if($.support.touch){self.element.unbind({touchstart:$.proxy(self,'_touchStart'),touchmove:$.proxy(self,'_touchMove'),touchend:$.proxy(self,'_touchEnd')});}
else if($.support.pointer){self.element.unbind({pointerdown:$.proxy(self,'_touchStart'),pointermove:$.proxy(self,'_touchMove'),pointerup:$.proxy(self,'_touchEnd')});}
_mouseDestroy.call(self);};})(jQuery);